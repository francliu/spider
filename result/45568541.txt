题目大意：ACM两位神牛Alice和Bob又来玩游戏了，这次他们玩石头剪刀布。规定石头、布、剪刀分别用1、2、3表示。他们准备玩n局，现在Alice已知Bob的n局的出法，但是为了公平，对于Alice，Bob给了m个限制，每个限制3个参数：abk。k=0或1。当k=0的时候，表示第a局和第j局Alice必须出相同的手势，k=1表示Alice在第a局和第j局必须出不同的手势。如果n轮比完，Alice一局没输的话，Alice赢，否则Bob赢。求Alice是否有赢的可能。
题目分析：因为每一轮有3种手势，乍一看是3-sat问题。但因为对于Alice来说，一局也不能输，所以只要n局保持不败就可以了，所以对于Alice来说，每一局其实只有2种情况，于是利用这个条件可以将此3-sat问题转化为2-sat问题。
先来看一张表：
BobAlice
平赢
112
223
331
一共就这6种情况。可以看出，无论Bob第a局和第b局出什么，Alice要保持不败，至少有一种手势可以在第a局和第b局同时做。所以我们先根据Bob第i局的手势，找出Alice第i局保持不败的2种手势，然后开始建图。
如果第a局和第b局Alice的手势要不同，那么矛盾的情况是Alice第a局和第b局手势相同，那么枚举这4种情况，找到矛盾的点对，建边，如果ab矛盾，建a-&gt;b',b-&gt;a'。
如果第a局和第b局Alice的手势要相同，那么矛盾的情况是Alice第a局和第b局手势不同，根据分析可知，无论第a局和第b局Bob出什么手势，Alice在这两局保持不败的策略中至少有一对是相同的，先考虑2对都相同的，即Bob在第a局和第b局手势相同，那么直接建边a-&gt;b,b-&gt;a,a&#43;n-&gt;b&#43;n,b&#43;n-&gt;a&#43;n(假设ab同，a&#43;nb&#43;n同)，一共4条边。如果没有2对相同，那么至少一对相同，依次枚举，找到那对相同的，只有这对相同的合理，其他的都不合理，那么仿照经典的And和Or操作中的建图，假设ab相同，那么只有ab是合法的，所以直接建a&#43;n-&gt;a,b&#43;n-&gt;b。

详情请见代码：
题目大意：ACM两位神牛Alice和Bob又来玩游戏了，这次他们玩石头剪刀布。规定石头、布、剪刀分别用1、2、3表示。他们准备玩n局，现在Alice已知Bob的n局的出法，但是为了公平，对于Alice，Bob给了m个限制，每个限制3个参数：abk。k=0或1。当k=0的时候，表示第a局和第j局Alice必须出相同的手势，k=1表示Alice在第a局和第j局必须出不同的手势。如果n轮比完，Alice一局没输的话，Alice赢，否则Bob赢。求Alice是否有赢的可能。
题目分析：因为每一轮有3种手势，乍一看是3-sat问题。但因为对于Alice来说，一局也不能输，所以只要n局保持不败就可以了，所以对于Alice来说，每一局其实只有2种情况，于是利用这个条件可以将此3-sat问题转化为2-sat问题。
先来看一张表：
BobAlice
平赢
112
223
331
一共就这6种情况。可以看出，无论Bob第a局和第b局出什么，Alice要保持不败，至少有一种手势可以在第a局和第b局同时做。所以我们先根据Bob第i局的手势，找出Alice第i局保持不败的2种手势，然后开始建图。
如果第a局和第b局Alice的手势要不同，那么矛盾的情况是Alice第a局和第b局手势相同，那么枚举这4种情况，找到矛盾的点对，建边，如果ab矛盾，建a-&gt;b',b-&gt;a'。
如果第a局和第b局Alice的手势要相同，那么矛盾的情况是Alice第a局和第b局手势不同，根据分析可知，无论第a局和第b局Bob出什么手势，Alice在这两局保持不败的策略中至少有一对是相同的，先考虑2对都相同的，即Bob在第a局和第b局手势相同，那么直接建边a-&gt;b,b-&gt;a,a&#43;n-&gt;b&#43;n,b&#43;n-&gt;a&#43;n(假设ab同，a&#43;nb&#43;n同)，一共4条边。如果没有2对相同，那么至少一对相同，依次枚举，找到那对相同的，只有这对相同的合理，其他的都不合理，那么仿照经典的And和Or操作中的建图，假设ab相同，那么只有ab是合法的，所以直接建a&#43;n-&gt;a,b&#43;n-&gt;b。

详情请见代码：
